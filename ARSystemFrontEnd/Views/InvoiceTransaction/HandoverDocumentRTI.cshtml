@{
    ViewBag.Title = "Handover Document";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string firstDate = new DateTime(DateTime.Now.Year, DateTime.Now.Month, 1).ToString("dd-MMM-yyyy");
    string currentDate = DateTime.Now.ToString("dd-MMM-yyyy");
}

<link href="@Url.Content("~/Content/dashboard/plugins/treeview/style/core.css")" rel="stylesheet" />
<style>
    .height59 {
        height: 59px;
    }
    /* Start of CSS for fixing layouts in JQuery Datatables with Freeze Columns */

    .panelSearchResult .table-scrollable {
        border: none !important;
    }

    .container {
        width: 1170px;
    }

    /* End of CSS for fixing layouts in JQuery Datatables with Freeze Columns */
</style>
<input type="hidden" value="@ViewBag.RenderType" id="renderType" />
<input type="hidden" value="@ViewBag.Operator" id="renderOperator" />
<input type="hidden" value="@ViewBag.Date" id="renderDate" />
<section id="pnlSummary">
    <div class="row panelFilter">
        <div class="col-md-12">
            <div class="portlet box blue">
                <div class="portlet-title">
                    <div class="caption font-white">
                        <i class="fa fa-filter"></i>
                        <span class="caption-subject">FILTER</span>
                    </div>
                    <div class="tools">
                        <a href="" class="collapse"> </a>
                    </div>
                </div>
                <div class="portlet-body form">
                    <form id="formSearch" class="form-horizontal" role="form">
                        <div class="form-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3 control-label">Customer</label>
                                        <div class="col-md-8">
                                            <select id="slSearchCustomer" class="form-control select2" onchange="Form.View();"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label">Company</label>
                                        <div class="col-md-8">
                                            <select id="slSearchCompany" class="form-control select2" onchange="Form.View();"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label">BAPS Type</label>
                                        <div class="col-md-8">
                                            <select id="slSearchBapsType" class="form-control select2" onload="Control.BindingSelectBapsType(this);" required></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    @*<div class="form-group" id="rowSearchSONumb">
                                        <label class="col-md-6 control-label">SO Number</label>
                                        <div class="col-md-6">
                                            <select id="slSONumber" class="form-control select2" multiple></select>
                                        </div>
                                    </div>*@
                                    <div class="form-group" id="handoverDate">
                                        <label class="col-md-3 control-label">Handover Date</label>
                                        <div class="col-md-8">
                                            <div class="row no-gutters">
                                                <div class="col-md-5">
                                                    <input type="text" id="tbStartPeriod" size="16" value="@firstDate" placeholder="Enter start date" class="form-control date-picker text-left">
                                                </div>
                                                <div class="col-md-2 control-label">
                                                    To
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" id="tbEndPeriod" size="16" value="@currentDate" placeholder="Enter end date" class="form-control date-picker text-left">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label">Power Type</label>
                                        <div class="col-md-8">
                                            <select id="slSearchPowerType" class="form-control select2" onload="Control.BindingSelectPowerType(this);"></select>
                                        </div>
                                    </div>
                                    <div class="form-group baps-rec-ctl" style="visibility:hidden">
                                        <label class="col-md-3 control-label" id="filteritem">BAPS Number</label>
                                        <div class="col-md-8">
                                            <div id="BAPSFilter">
                                                <select id="slSearchBAPS" class="form-control select2" multiple></select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group baps-rec-ctl" style="visibility:hidden">
                                        <label class="col-md-3 control-label" id="filteritem">PO Number</label>
                                        <div class="col-md-8">
                                            <div id="POFilter">
                                                <select id="slSearchPO" class="form-control select2" multiple></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions text-center">
                            <button type="button" id="btSearch" class="btn blue mt-ladda-btn ladda-button" data-style="zoom-in">
                                <i class="fa fa-search"></i> Search
                            </button>
                            <button type="button" id="btReset" class="btn blue-oleo">
                                <i class="fa fa-refresh"></i> Reset
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    @Html.Partial("_PanelSearchBegin")
    @Html.Partial("_PanelSearchZero")

    <div class="row panelSearchResult ">
        <div class="col-md-12">
            <div class="portlet light bordered">
                <div class="portlet-title">
                    <div class="caption font-blue-steel">
                        <i class="fa fa-table"></i>
                        <span class="caption-subject">Search Result</span>
                    </div>
                </div>
                <div class="portlet-body">
                    <div class="tabbable tabbable-tabdrop" id="tabRTI">
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a id="tabDones" href="#tabDone" data-toggle="tab">NEW<b></b></a>
                            </li>
                            <li>
                                <a id="tabRaws" href="#tabRaw" data-toggle="tab">RECURRING</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane" id="tabDone">
                                <ul class="nav nav-tabs">
                                    <li class="active">
                                        <a id="treeViewTab" href="#treeView" data-toggle="tab">Tree View</a>
                                    </li>
                                    <li>
                                        <a id="gridViewTab" href="#gridView" data-toggle="tab">List</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane active" id="treeView">
                                        <div id="jstree" style="background:#eee; padding:10px; max-height:800px; overflow-x:auto; overflow-y:auto">
                                            <h5 id="treeNotFound">Data not found!</h5>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="gridView" style="margin-top:20px">
                                        <table class="table table-striped table-bordered table-hover datatable-custom-width" id="tblBapsDone">
                                            <thead>
                                                <tr>
                                                    <th class="datatable-col-50">#Row</th>
                                                    <th class="datatable-col-50">Action</th>
                                                    <th class="datatable-col-100">BAPS Done Date</th>
                                                    <th class="datatable-col-100">BAPS Confirm</th>
                                                    <th class="datatable-col-100">SO Number</th>
                                                    <th class="datatable-col-100">BAPS Type</th>
                                                    <th class="datatable-col-100">Customer</th>
                                                    <th class="datatable-col-100">Site ID</th>
                                                    <th class="datatable-col-200">Site Name </th>
                                                    <th class="datatable-col-150">Site ID Cust</th>
                                                    <th class="datatable-col-200">Site Name Cust</th>
                                                    <th class="datatable-col-100">Company ID</th>
                                                    <th class="datatable-col-250">Company Name</th>
                                                    <th class="datatable-col-50">Siro</th>
                                                    <th class="datatable-col-200">STIP Number</th>
                                                    <th class="datatable-col-200">STIP Category</th>
                                                    <th class="datatable-col-150">Product</th>
                                                    <th class="datatable-col-100">MLA Date</th>
                                                    <th class="datatable-col-200">MLA Number</th>
                                                    <th class="datatable-col-200">BAUK Number</th>
                                                    <th class="datatable-col-100">BAUK Date</th>
                                                    <th class="datatable-col-100">PO Amount</th>
                                                    <th class="datatable-col-100">PO Date</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane active" id="tabRaw">
                                <div class="tab-pane" id="tabRaw">
                                    <table class="table table-striped table-bordered table-hover datatable-custom-width" id="tblRaw">
                                        <thead>
                                            <tr>
                                                <th class="datatable-col-50"></th>
                                                <th class="datatable-col-100">SO Number</th>
                                                <th class="datatable-col-100">Site ID</th>
                                                <th class="datatable-col-200">Site Name</th>
                                                <th class="datatable-col-100">Customer Site ID</th>
                                                <th class="datatable-col-200">Customer Site Name</th>
                                                <th class="datatable-col-100">Region Name</th>
                                                <th class="datatable-col-100">Province Name</th>
                                                <th class="datatable-col-100">Residence Name</th>
                                                <th class="datatable-col-200">PO Number</th>
                                                <th class="datatable-col-250">BAPS Number</th>
                                                <th class="datatable-col-250">MLA Number</th>
                                                <th class="datatable-col-150">Start Lease Date</th>
                                                <th class="datatable-col-150">End Lease Date</th>
                                                <th class="datatable-col-100">Term</th>
                                                <th class="datatable-col-100">BAPS Type</th>
                                                <th class="datatable-col-100">Customer Invoice</th>
                                                <th class="datatable-col-100">Customer Asset</th>
                                                <th class="datatable-col-100">Company Invoice</th>
                                                <th class="datatable-col-100">Company Asset</th>
                                                <th class="datatable-col-100">STIP Siro</th>
                                                <th class="datatable-col-100">Invoice Type</th>
                                                <th class="datatable-col-100">BaseLease Currency</th>
                                                <th class="datatable-col-100">Service Currency</th>
                                                <th class="datatable-col-100">Invoice Start Date</th>
                                                <th class="datatable-col-100">Invoice End Date</th>
                                                <th class="datatable-col-100">BAPS Confirm Date</th>
                                                <th class="datatable-col-100">Create Invoice Date</th>
                                                <th class="datatable-col-100">Posting Invoice Date</th>
                                                <th class="datatable-col-100">Base Lease</th>
                                                <th class="datatable-col-100">Service Price</th>
                                                <th class="datatable-col-100">Deduction Amount</th>
                                                <th class="datatable-col-100">Inflation Amount</th>
                                                <th class="datatable-col-100">Total Pro Rate</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<a href="#" style="display:none" id="downloadZip"></a>
<a href="#" style="display:none" id="downloadAllZip"></a>
<input id="defaultStartDate" value="@firstDate" type="hidden" />
<input id="defaultEndDate" value="@currentDate" type="hidden" />
<input id="baseRoute" type="hidden" value="@ARSystemFrontEnd.Helper.Helper.GetDocPath().Replace("~","")" />
<div class="overlay" id="onloader">
    <div class="content">
        <div class="loader"></div>
    </div>
</div>
<style>
    .loader {
  border: 8px solid #f3f3f3; /* Light grey */
  border-top: 8px solid #3498db; /* Blue */
  border-radius: 50%;
  width: 80px;
  height: 80px;
  animation: spin 2s linear infinite;
}

@@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.overlay {
  position: fixed; /* Sit on top of the page content */
  display: none; /* Hidden by default */
  width: 100%; /* Full width (cover the whole page) */
  height: 100%; /* Full height (cover the whole page) */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0,0,0,0.5); /* Black background with opacity */
  z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
  cursor: pointer; /* Add a pointer on hover */
}

.overlay .content{
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    width:100%;
    height:100%
}

</style>

<script src="@Url.Content("~/scripts/invoicetransaction/HandoverDocRTI.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/dashboard/plugins/treeview/treeview.js")" type="text/javascript"></script>
